# Copyright 2014-2022 Hewlett Packard Enterprise Development LP
command:
  k8s_all_loadbalancers_have_external_ips:
    title: LoadBalancer Services Have External IP
    meta:
      desc: Validates all LoadBalancer services in Kubernetes cluster have a valid external IP. If this test fails, run the script "{{.Env.GOSS_BASE}}/scripts/check_k8s_loadbalancers.sh -p" to see a printed description of the errors.
      sev: 0
    exec: "{{.Env.GOSS_BASE}}/scripts/check_k8s_loadbalancers.sh"
    stdout:
      - "!FAIL"
    exit-status: 0
    timeout: 1000
    skip: false
